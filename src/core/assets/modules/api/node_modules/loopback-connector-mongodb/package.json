{
  "_args": [
    [
      {
        "raw": "loopback-connector-mongodb",
        "scope": null,
        "escapedName": "loopback-connector-mongodb",
        "name": "loopback-connector-mongodb",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "/Users/vt/Documents/development/canada/src/core/assets/basecode"
    ]
  ],
  "_from": "loopback-connector-mongodb@latest",
  "_id": "loopback-connector-mongodb@3.4.2",
  "_inCache": true,
  "_location": "/loopback-connector-mongodb",
  "_nodeVersion": "6.11.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/loopback-connector-mongodb_3.4.2_1521830641982_0.04359478572190434"
  },
  "_npmUser": {
    "name": "dhmlau",
    "email": "dianahmlau@gmail.com"
  },
  "_npmVersion": "3.10.10",
  "_phantomChildren": {
    "ms": "2.0.0"
  },
  "_requested": {
    "raw": "loopback-connector-mongodb",
    "scope": null,
    "escapedName": "loopback-connector-mongodb",
    "name": "loopback-connector-mongodb",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/loopback-connector-mongodb/-/loopback-connector-mongodb-3.4.2.tgz",
  "_shasum": "fd530525330780ddf768a8b438eea11ccb63b182",
  "_shrinkwrap": null,
  "_spec": "loopback-connector-mongodb",
  "_where": "/Users/vt/Documents/development/canada/src/core/assets/basecode",
  "bugs": {
    "url": "https://github.com/strongloop/loopback-connector-mongodb/issues"
  },
  "contributors": [
    {
      "name": "Miroslav Bajtos",
      "url": "https://github.com/bajtos"
    },
    {
      "name": "Raymond Feng",
      "url": "https://github.com/raymondfeng"
    },
    {
      "name": "Ritchie Martori",
      "url": "https://github.com/ritch"
    },
    {
      "name": "Simon Ho",
      "url": "https://github.com/superkhau"
    }
  ],
  "dependencies": {
    "async": "^2.6.0",
    "bson": "^1.0.4",
    "debug": "^3.1.0",
    "loopback-connector": "^4.0.0",
    "mongodb": "^3.0.1",
    "strong-globalize": "^3.1.0"
  },
  "description": "The official MongoDB connector for the LoopBack framework.",
  "devDependencies": {
    "benchmark": "^2.1.4",
    "bluebird": "^3.5.1",
    "eslint": "^2.7.0",
    "eslint-config-loopback": "^1.0.0",
    "loopback-datasource-juggler": "^3.0.0",
    "memwatch-next": "^0.3.0",
    "mocha": "^2.1.0",
    "rc": "^1.0.0",
    "semver": "^5.5.0",
    "should": "^8.0.2",
    "sinon": "^1.15.4"
  },
  "directories": {},
  "dist": {
    "shasum": "fd530525330780ddf768a8b438eea11ccb63b182",
    "tarball": "https://registry.npmjs.org/loopback-connector-mongodb/-/loopback-connector-mongodb-3.4.2.tgz",
    "fileCount": 39,
    "unpackedSize": 100331
  },
  "engines": {
    "node": ">=4"
  },
  "gitHead": "47de5b1ddc43cd7bf07465a39e37b00648e8dd75",
  "homepage": "https://github.com/strongloop/loopback-connector-mongodb#readme",
  "keywords": [
    "connector",
    "datasource",
    "loopback",
    "strongloop",
    "mongodb"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "0candy",
      "email": "ngcandy@ca.ibm.com"
    },
    {
      "name": "amir-61",
      "email": "amirali.jfr61@gmail.com"
    },
    {
      "name": "b-admike",
      "email": "binadmt@hotmail.com"
    },
    {
      "name": "bajtos",
      "email": "mbajtoss@gmail.com"
    },
    {
      "name": "davidcheung",
      "email": "davidcheung@live.ca"
    },
    {
      "name": "dhmlau",
      "email": "dianahmlau@gmail.com"
    },
    {
      "name": "hacksparrow",
      "email": "captain@hacksparrow.com"
    },
    {
      "name": "jannyhou2016",
      "email": "juehou@ca.ibm.com"
    },
    {
      "name": "kjdelisle",
      "email": "kjdelisle@gmail.com"
    },
    {
      "name": "kraman",
      "email": "kraman@gmail.com"
    },
    {
      "name": "mahesh.patsute",
      "email": "mahesh.patsute@ibm.com"
    },
    {
      "name": "qpresley",
      "email": "qpresley@ca.ibm.com"
    },
    {
      "name": "rashmihunt",
      "email": "rashmihunt@gmail.com"
    },
    {
      "name": "rfeng",
      "email": "enjoyjava@gmail.com"
    },
    {
      "name": "ritch",
      "email": "skawful@gmail.com"
    },
    {
      "name": "rmg",
      "email": "r.m.graham@gmail.com"
    },
    {
      "name": "superkhau",
      "email": "superkhau@gmail.com"
    },
    {
      "name": "thegman",
      "email": "gpandya@live.com"
    },
    {
      "name": "tonyf-ibm",
      "email": "tffrench@us.ibm.com"
    },
    {
      "name": "virkt25",
      "email": "taranveer@virk.cc"
    }
  ],
  "name": "loopback-connector-mongodb",
  "optionalDependencies": {},
  "readme": "# loopback-connector-mongodb\n\nThe official MongoDB connector for the LoopBack framework.\n\nPlease see the full documentation at [loopback.io](http://loopback.io/doc/en/lb3/MongoDB-connector.html).\n\n## Installation\n\nIn your application root directory, enter this command to install the connector:\n\n```sh\nnpm install loopback-connector-mongodb --save\n```\n\nThis installs the module from npm and adds it as a dependency to the application's `package.json` file.\n\nIf you create a MongoDB data source using the data source generator as described below, you don't have to do this, since the generator will run `npm install` for you.\n\n## Creating a MongoDB data source\n\nUse the [Data source generator](http://loopback.io/doc/en/lb3/Data-source-generator.html) to add a MongoDB data source to your application.  \nThe generator will prompt for the database server hostname, port, and other settings\nrequired to connect to a MongoDB database.  It will also run the `npm install` command above for you.\n\nThe entry in the application's `/server/datasources.json` will look like this:\n\n```javascript\n\"mydb\": {\n  \"host\": \"myserver\",\n  \"port\": 27017,\n  \"url\":  \"\",\n  \"database\": \"test\",\n  \"password\": \"mypassword\",\n  \"name\": \"mydb\",\n  \"user\": \"me\",\n  \"connector\": \"mongodb\"  \n}\n```\n\nEdit `datasources.json` to add any other additional properties that you require.\n\n### Connection properties\n\n| Property | Type&nbsp;&nbsp; | Description |\n| --- | --- | --- |\n| connector | String | Connector name, either “loopback-connector-mongodb” or “mongodb”. |\n| database | String | Database name |\n| host | String | Database host name |\n| password | String | Password to connect to database |\n| port | Number | Database TCP port |\n| url | String | Connection URL of form `mongodb://user:password@host/db`. Overrides other connection settings (see below). |\n| username | String | Username to connect to database |\n\n**NOTE**: In addition to these properties, you can use additional Single Server Connection parameters supported by [`node-mongodb-native`](http://mongodb.github.io/node-mongodb-native/core/driver/reference/connecting/connection-settings/).\n\n### Additional properties\n\n- **allowExtendedOperators**: Set to `true` to enable using MongoDB operators such as\n`$currentDate`, `$inc`, `$max`, `$min`, `$mul`, `$rename`, `$setOnInsert`, `$set`, `$unset`, `$addToSet`,\n`$pop`, `$pullAll`, `$pull`, `$pushAll`, `$push`, and `$bit`.  Default is `false`.\n- **enableGeoIndexing**: Set to `true` to enable 2dsphere indexing for model properties\nof type `GeoPoint`. This allows for indexed ```near``` queries.  Default is `false`.\n- **lazyConnect**: \n  - Default is `false`.\n  - If set to `true`, the database instance will not be attached to the datasource and the connection is deferred.\n  - It will try to establish the connection automatically once users hit the endpoint. If the mongodb server is offline, the app will start, however, the endpoints will not work.\n\n### Setting the url property in datasource.json\n\nYou can set the `url` property to a connection URL in `datasources.json` to override individual connection parameters such as `host`, `user`, and `password`.  \n\nAdditionally, you can override the global `url` property in environment-specific data source configuration files, for example for production in `datasources.production.json`, and use the individual connection parameters `host`, `user`, `password`, and `port`.  To do this, you _must_ set `url` to `false`, null, or “” (empty string).\nIf you set `url` to `undefined` or remove the `url` property altogether, the override will not work.\n\nFor example, for production, use `datasources.production.json` as follows (for example) to overide the `url` setting in `datasources.json:\n\n```javascript\n\"mydb\": {\n  \"host\": \"myserver\",\n  \"port\": 27017,\n  \"url\":  false,\n  \"database\": \"test\",\n  \"password\": \"mypassword\",\n  \"name\": \"mydb\",\n  \"user\": \"me\",\n  \"connector\": \"mongodb\"  \n}\n```\n\nFor more information on setting data source configurations for different environments, see [Environment-specific configuration](https://loopback.io/doc/en/lb3/Environment-specific-configuration.html#data-source-configuration).\n\n## Type mappings\n\nSee [LoopBack types](http://loopback.io/doc/en/lb3/LoopBack-types.html) for details on LoopBack's data types.\n\n### LoopBack to MongoDB types\n\nType conversion is mainly handled by Mongodb. See ['node-mongodb-native'](http://mongodb.github.io/node-mongodb-native/) for details.\n\n## Customizing MongoDB configuration for tests/examples\n\nBy default, examples and tests from this module assume there is a MongoDB server\ninstance running on localhost at port 27017.\n\nTo customize the settings, you can drop in a `.loopbackrc` file to the root directory\nof the project or the home folder.\n\n**Note**: Tests and examples in this project configure the data source using the deprecated '.loopbackrc' file method,\nwhich is not suppored in general.\nFor information on configuring the connector in a LoopBack application, please refer to [loopback.io](http://loopback.io/doc/en/lb2/MongoDB-connector.html).\n\nThe .loopbackrc file is in JSON format, for example:\n\n    {\n        \"dev\": {\n            \"mongodb\": {\n                \"host\": \"127.0.0.1\",\n                \"database\": \"test\",\n                \"username\": \"youruser\",\n                \"password\": \"yourpass\",\n                \"port\": 27017\n            }\n        },\n        \"test\": {\n            \"mongodb\": {\n                \"host\": \"127.0.0.1\",\n                \"database\": \"test\",\n                \"username\": \"youruser\",\n                \"password\": \"yourpass\",\n                \"port\": 27017\n            }\n        }\n    }\n\n**Note**: username/password is only required if the MongoDB server has\nauthentication enabled.\n\n## Running tests\n\n### Own instance\nIf you have a local or remote MongoDB instance and would like to use that to run the test suite, use the following command:\n- Linux\n```bash\nMONGODB_HOST=<HOST> MONGODB_PORT=<PORT> MONGODB_DATABASE=<DATABASE> CI=true npm test\n```\n- Windows\n```bash\nSET MONGODB_HOST=<HOST> SET MONGODB_PORT=<PORT> SET MONGODB_DATABASE=<DATABASE> SET CI=true npm test\n```\n\n### Docker\nIf you do not have a local MongoDB instance, you can also run the test suite with very minimal requirements.\n- Assuming you have [Docker](https://docs.docker.com/engine/installation/) installed, run the following script which would spawn a MongoDB instance on your local:\n```bash\nsource setup.sh <HOST> <PORT> <DATABASE>\n```\nwhere `<HOST>`, `<PORT>` and `<DATABASE>` are optional parameters. The default values are `localhost`, `27017` and `testdb` respectively.\n- Run the test:\n```bash\nnpm test\n```\n\n### Leak detection\n\nTests run for 100 iterations by default, but can be increased by setting the\nenv var `ITERATIONS`.\n\n```\nmake leak-detection # run 100 iterations (default)\n```\n\nor\n\n```\nITERATIONS=1000 make leak-detection # run 1000 iterations\n```\n\n## Running benchmarks\n\n**Benchmarks must be run on a Unix-like operating system.**\n\n```\nmake benchmarks\n```\n\nThe results will be output in `./benchmarks/results.md`.\n\n## strictObjectIDCoercion flag\n\nIn version 1.17.0, the id of string type is being converted to ObjectID, when the string length is 12 or 24 and has the format of an ObjectID i.e /^[0-9a-fA-F]{24}$/. To avoid this issue, the strictObjectIDCoercion flag should be set to true in the model-definition file.\n\nmodel-definition.js\n\n```js\n{\n  \"name\": \"myModelName\",\n  \"base\": \"PersistedModel\",\n  \"idInjection\": false,\n  \"options\": {\n    \"validateUpsert\": true,\n    \"strictObjectIDCoercion\": true\n  },\n...\n}\n```\nboot-script.js\n\n```js\n'use strict';\nvar util = require('util');\n\nmodule.exports = function(app) {\n  var db = app.dataSources.mongoDs;\n  var myModelName = app.models.myModelName;\n\n  db.automigrate(function(err) {\n    if (err) throw err;\n    console.log('Automigrate complete');\n\n    myModelName.create([{\n      id: '59460487e9532ae90c324b59',\n      name: 'Bob',\n    }, {\n      id: '59460487e9532ae90c324b5a',\n      name: 'Sam',\n    }, {\n      id: '420',\n      name: 'Foo',\n      age: 1,\n    }, {\n      id: '21',\n      name: 'Bar',\n    }], function(err, result) {\n      if (err) throw err;\n      console.log('\\nCreated instances of myModelName: ' + util.inspect(result, 4));\n\n      myModelName.find({where: {id: {inq: ['59460487e9532ae90c324b59',\n        '59460487e9532ae90c324b5a']}}},\n      function(err, result) {\n        if (err) throw err;\n        console.log('\\nFound instance with inq: ' + util.inspect(result, 4));\n      });\n    });\n  });\n};\n```\n\n## Release notes\n\n  * 1.1.7 - Do not return MongoDB-specific _id to client API, except if specifically specified in the model definition\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/strongloop/loopback-connector-mongodb.git"
  },
  "scripts": {
    "benchmarks": "make benchmarks",
    "leak-detection": "make leak-detection",
    "lint": "eslint .",
    "posttest": "npm run lint",
    "test": "mocha -G --timeout 10000 --require test/init.js test/*.test.js"
  },
  "version": "3.4.2"
}
